<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Memory Realm</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- Anime.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Howler.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
    <style>
        :root {
            --nebula-purple: #4B0082;
            --quantum-blue: #00BFFF;
            --energy-orange: #FF4500;
            --quantum-field: #0a0014;
            --quantum-glow: rgba(75, 0, 130, 0.7);
        }
        
        body {
            background-color: var(--quantum-field);
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow-x: hidden;
            margin: 0;
            padding: 0;
        }
        
        #quantum-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        .game-container {
            min-height: 100vh;
            padding: 20px;
        }
        
        .quantum-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(11, 0, 20, 0.7);
            border-radius: 15px;
            border: 1px solid var(--quantum-blue);
            box-shadow: 0 0 20px var(--quantum-blue);
        }
        
        .game-title {
            font-size: 3rem;
            background: linear-gradient(to right, var(--quantum-blue), var(--energy-orange));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 10px rgba(0, 191, 255, 0.5);
            margin-bottom: 10px;
        }
        
        .game-board {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            max-width: 800px;
            margin: 0 auto;
            perspective: 1000px;
        }
        
        .quantum-card {
            height: 150px;
            background: rgba(20, 5, 35, 0.8);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transform-style: preserve-3d;
            transition: transform 0.6s, box-shadow 0.3s;
            position: relative;
            overflow: hidden;
            border: 1px solid var(--nebula-purple);
        }
        
        .quantum-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, var(--quantum-blue) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .quantum-card:hover::before {
            opacity: 0.1;
        }
        
        .quantum-card:hover {
            box-shadow: 0 0 15px var(--quantum-blue);
            transform: translateY(-5px) rotateX(5deg);
        }
        
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }
        
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
        }
        
        .card-front {
            background: linear-gradient(135deg, var(--nebula-purple), #2a004e);
            transform: rotateY(180deg);
        }
        
        .card-back {
            background: rgba(30, 10, 50, 0.9);
            border: 1px solid var(--quantum-blue);
        }
        
        .card-back::after {
            content: '?';
            font-size: 3rem;
            color: var(--quantum-blue);
            text-shadow: 0 0 10px var(--quantum-blue);
        }
        
        .quantum-card.flipped .card-inner {
            transform: rotateY(180deg);
        }
        
        .quantum-card.matched {
            border-color: var(--energy-orange);
            box-shadow: 0 0 20px var(--energy-orange);
        }
        
        .quantum-card.matched .card-front {
            background: linear-gradient(135deg, var(--energy-orange), #cc3700);
        }
        
        .superposition {
            animation: superposition 2s infinite;
        }
        
        @keyframes superposition {
            0% { opacity: 0.7; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.05); }
            100% { opacity: 0.7; transform: scale(1); }
        }
        
        .entangled {
            position: relative;
        }
        
        .entangled::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 2px solid var(--energy-orange);
            border-radius: 10px;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 5px var(--energy-orange); }
            50% { box-shadow: 0 0 20px var(--energy-orange); }
            100% { box-shadow: 0 0 5px var(--energy-orange); }
        }
        
        .quantum-controls {
            background: rgba(11, 0, 20, 0.7);
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
            border: 1px solid var(--nebula-purple);
        }
        
        .quantum-btn {
            background: linear-gradient(to right, var(--nebula-purple), var(--quantum-blue));
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: bold;
            transition: all 0.3s;
            margin: 5px;
        }
        
        .quantum-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 191, 255, 0.4);
        }
        
        .quantum-info {
            background: rgba(11, 0, 20, 0.7);
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
            border: 1px solid var(--quantum-blue);
        }
        
        .quantum-progress {
            height: 10px;
            background: rgba(30, 10, 50, 0.9);
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, var(--quantum-blue), var(--energy-orange));
            border-radius: 5px;
            transition: width 0.5s;
        }
        
        .quantum-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--quantum-blue);
            border-radius: 50%;
            pointer-events: none;
        }
        
        @media (max-width: 768px) {
            .game-board {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .quantum-card {
                height: 120px;
            }
            
            .game-title {
                font-size: 2rem;
            }
        }
        
        @media (max-width: 576px) {
            .game-board {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .quantum-card {
                height: 100px;
            }
        }
    </style>
</head>
<body>
    <!-- Three.js Quantum Canvas -->
    <canvas id="quantum-canvas"></canvas>
    
    <div class="game-container">
        <div class="container">
            <!-- Game Header -->
            <div class="quantum-header">
                <h1 class="game-title">Quantum Memory Realm</h1>
                <p class="lead">Where observation collapses reality and entanglement defies distance</p>
            </div>
            
            <!-- Game Stats -->
            <div class="row">
                <div class="col-md-4">
                    <div class="quantum-info text-center">
                        <h4>Quantum Observer</h4>
                        <p>Moves: <span id="moves">0</span></p>
                        <p>Pairs Found: <span id="pairs">0</span>/<span id="total-pairs">0</span></p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="quantum-info text-center">
                        <h4>Quantum State</h4>
                        <div class="quantum-progress">
                            <div class="progress-bar" id="quantum-progress" style="width: 0%"></div>
                        </div>
                        <p>Collapse Probability: <span id="collapse-prob">85%</span></p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="quantum-info text-center">
                        <h4>Multiverse Level</h4>
                        <p>Current: <span id="level">1</span></p>
                        <p>Entangled Pairs: <span id="entangled-count">0</span></p>
                    </div>
                </div>
            </div>
            
            <!-- Game Board -->
            <div class="game-board mt-4" id="game-board">
                <!-- Quantum cards will be generated here -->
            </div>
            
            <!-- Game Controls -->
            <div class="quantum-controls text-center">
                <button class="quantum-btn" id="start-btn">Initialize Quantum Field</button>
                <button class="quantum-btn" id="reset-btn">Collapse Wave Function</button>
                <button class="quantum-btn" id="hint-btn">Quantum Entanglement Hint</button>
                <button class="quantum-btn" id="sound-btn">Toggle Quantum Resonance</button>
            </div>
            
            <!-- Quantum Mechanics Explanation -->
            <div class="quantum-info mt-4">
                <h4>Quantum Principles in Action</h4>
                <div class="row">
                    <div class="col-md-6">
                        <h6>Superposition</h6>
                        <p>Cards exist in multiple states simultaneously until observed.</p>
                    </div>
                    <div class="col-md-6">
                        <h6>Quantum Entanglement</h6>
                        <p>Some card pairs are linked - observing one reveals information about its partner.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Game state and configuration
        const gameState = {
            cards: [],
            flippedCards: [],
            matchedPairs: 0,
            totalPairs: 8,
            moves: 0,
            level: 1,
            entangledPairs: [],
            canFlip: true,
            soundEnabled: true,
            quantumField: null,
            scene: null,
            camera: null,
            renderer: null,
            particles: []
        };

        // Quantum symbols for cards
        const quantumSymbols = [
            'Ψ', 'Φ', 'Δ', 'Ω', 'Σ', 'Λ', 'Θ', 'Ξ',
            'α', 'β', 'γ', 'δ', 'ε', 'ζ', 'η', 'θ'
        ];

        // Initialize the game
        function initGame() {
            createQuantumField();
            generateCards();
            setupEventListeners();
            createParticles();
            updateDisplay();
        }

        // Create Three.js quantum field background
        function createQuantumField() {
            // Scene setup
            gameState.scene = new THREE.Scene();
            gameState.camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            gameState.renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('quantum-canvas'), alpha: true });
            gameState.renderer.setSize(window.innerWidth, window.innerHeight);
            
            // Create quantum particles
            const particleGeometry = new THREE.BufferGeometry();
            const particleCount = 500;
            const positions = new Float32Array(particleCount * 3);
            const colors = new Float32Array(particleCount * 3);
            
            for (let i = 0; i < particleCount * 3; i += 3) {
                // Random positions
                positions[i] = (Math.random() - 0.5) * 100;
                positions[i + 1] = (Math.random() - 0.5) * 100;
                positions[i + 2] = (Math.random() - 0.5) * 100;
                
                // Quantum colors (blues and purples)
                colors[i] = Math.random() * 0.5 + 0.5; // R
                colors[i + 1] = Math.random() * 0.7 + 0.3; // G
                colors[i + 2] = Math.random() * 0.8 + 0.5; // B
            }
            
            particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            particleGeometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
            
            const particleMaterial = new THREE.PointsMaterial({
                size: 0.5,
                vertexColors: true,
                transparent: true,
                opacity: 0.6
            });
            
            gameState.quantumField = new THREE.Points(particleGeometry, particleMaterial);
            gameState.scene.add(gameState.quantumField);
            
            gameState.camera.position.z = 30;
            
            // Animation loop
            function animate() {
                requestAnimationFrame(animate);
                
                gameState.quantumField.rotation.x += 0.001;
                gameState.quantumField.rotation.y += 0.002;
                
                // Pulsing effect for particles
                const time = Date.now() * 0.001;
                const positions = gameState.quantumField.geometry.attributes.position.array;
                
                for (let i = 0; i < positions.length; i += 3) {
                    positions[i + 1] += Math.sin(time + positions[i]) * 0.01;
                }
                
                gameState.quantumField.geometry.attributes.position.needsUpdate = true;
                
                gameState.renderer.render(gameState.scene, gameState.camera);
            }
            
            animate();
            
            // Handle window resize
            window.addEventListener('resize', () => {
                gameState.camera.aspect = window.innerWidth / window.innerHeight;
                gameState.camera.updateProjectionMatrix();
                gameState.renderer.setSize(window.innerWidth, window.innerHeight);
            });
        }

        // Generate quantum cards
        function generateCards() {
            const board = document.getElementById('game-board');
            board.innerHTML = '';
            gameState.cards = [];
            gameState.flippedCards = [];
            gameState.matchedPairs = 0;
            gameState.moves = 0;
            
            // Create pairs of symbols
            const symbols = quantumSymbols.slice(0, gameState.totalPairs);
            const cardValues = [...symbols, ...symbols];
            
            // Shuffle using quantum uncertainty (Fisher-Yates algorithm)
            for (let i = cardValues.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [cardValues[i], cardValues[j]] = [cardValues[j], cardValues[i]];
            }
            
            // Create card elements
            cardValues.forEach((value, index) => {
                const card = document.createElement('div');
                card.className = 'quantum-card superposition';
                card.dataset.index = index;
                card.dataset.value = value;
                
                const cardInner = document.createElement('div');
                cardInner.className = 'card-inner';
                
                const cardFront = document.createElement('div');
                cardFront.className = 'card-front';
                cardFront.textContent = value;
                cardFront.style.fontSize = '3rem';
                cardFront.style.color = 'var(--quantum-blue)';
                cardFront.style.textShadow = '0 0 10px var(--quantum-blue)';
                
                const cardBack = document.createElement('div');
                cardBack.className = 'card-back';
                
                cardInner.appendChild(cardFront);
                cardInner.appendChild(cardBack);
                card.appendChild(cardInner);
                
                board.appendChild(card);
                gameState.cards.push(card);
            });
            
            // Create some entangled pairs
            createEntangledPairs();
            
            updateDisplay();
        }

        // Create quantum entangled pairs
        function createEntangledPairs() {
            gameState.entangledPairs = [];
            const indices = [...Array(gameState.cards.length).keys()];
            
            // Shuffle indices
            for (let i = indices.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [indices[i], indices[j]] = [indices[j], indices[i]];
            }
            
            // Create 2-3 entangled pairs based on level
            const entangledCount = Math.min(3, Math.floor(gameState.level / 2) + 1);
            
            for (let i = 0; i < entangledCount * 2; i += 2) {
                if (i + 1 < indices.length) {
                    gameState.entangledPairs.push([indices[i], indices[i + 1]]);
                    
                    // Mark entangled cards visually
                    gameState.cards[indices[i]].classList.add('entangled');
                    gameState.cards[indices[i + 1]].classList.add('entangled');
                }
            }
            
            document.getElementById('entangled-count').textContent = entangledCount;
        }

        // Setup event listeners
        function setupEventListeners() {
            // Card click event
            document.getElementById('game-board').addEventListener('click', (e) => {
                const card = e.target.closest('.quantum-card');
                if (card && !card.classList.contains('flipped') && !card.classList.contains('matched') && gameState.canFlip) {
                    flipCard(card);
                }
            });
            
            // Control buttons
            document.getElementById('start-btn').addEventListener('click', generateCards);
            document.getElementById('reset-btn').addEventListener('click', resetGame);
            document.getElementById('hint-btn').addEventListener('click', showEntanglementHint);
            document.getElementById('sound-btn').addEventListener('click', toggleSound);
        }

        // Flip a card with quantum animation
        function flipCard(card) {
            if (gameState.flippedCards.length < 2) {
                card.classList.remove('superposition');
                card.classList.add('flipped');
                gameState.flippedCards.push(card);
                
                // Quantum collapse animation
                anime({
                    targets: card,
                    scale: [1, 1.1, 1],
                    duration: 300,
                    easing: 'easeInOutQuad'
                });
                
                // Check for entanglement
                checkEntanglement(card);
                
                if (gameState.flippedCards.length === 2) {
                    gameState.moves++;
                    checkForMatch();
                }
                
                updateDisplay();
            }
        }

        // Check if flipped cards are entangled
        function checkEntanglement(card) {
            const cardIndex = parseInt(card.dataset.index);
            
            // Find if this card is part of an entangled pair
            for (const pair of gameState.entangledPairs) {
                if (pair.includes(cardIndex)) {
                    const partnerIndex = pair[0] === cardIndex ? pair[1] : pair[0];
                    const partnerCard = gameState.cards[partnerIndex];
                    
                    // If partner is not already flipped or matched, show a hint
                    if (!partnerCard.classList.contains('flipped') && !partnerCard.classList.contains('matched')) {
                        // Create entanglement visualization
                        createEntanglementEffect(card, partnerCard);
                    }
                    
                    break;
                }
            }
        }

        // Create visual entanglement effect between cards
        function createEntanglementEffect(card1, card2) {
            const rect1 = card1.getBoundingClientRect();
            const rect2 = card2.getBoundingClientRect();
            
            const x1 = rect1.left + rect1.width / 2;
            const y1 = rect1.top + rect1.height / 2;
            const x2 = rect2.left + rect2.width / 2;
            const y2 = rect2.top + rect2.height / 2;
            
            // Create SVG line for entanglement
            const svgNS = "http://www.w3.org/2000/svg";
            const svg = document.createElementNS(svgNS, "svg");
            svg.setAttribute("width", "100%");
            svg.setAttribute("height", "100%");
            svg.style.position = "fixed";
            svg.style.top = "0";
            svg.style.left = "0";
            svg.style.pointerEvents = "none";
            svg.style.zIndex = "10";
            
            const line = document.createElementNS(svgNS, "line");
            line.setAttribute("x1", x1);
            line.setAttribute("y1", y1);
            line.setAttribute("x2", x2);
            line.setAttribute("y2", y2);
            line.setAttribute("stroke", "var(--energy-orange)");
            line.setAttribute("stroke-width", "2");
            line.setAttribute("stroke-dasharray", "5,5");
            
            svg.appendChild(line);
            document.body.appendChild(svg);
            
            // Animate the entanglement line
            anime({
                targets: line,
                strokeDashoffset: [0, 20],
                duration: 1000,
                easing: 'linear',
                loop: true,
                direction: 'alternate'
            });
            
            // Remove after a few seconds
            setTimeout(() => {
                document.body.removeChild(svg);
            }, 3000);
        }

        // Check if flipped cards match
        function checkForMatch() {
            gameState.canFlip = false;
            
            const [card1, card2] = gameState.flippedCards;
            const isMatch = card1.dataset.value === card2.dataset.value;
            
            if (isMatch) {
                // Match found
                setTimeout(() => {
                    card1.classList.add('matched');
                    card2.classList.add('matched');
                    
                    // Quantum energy burst animation
                    createEnergyBurst(card1);
                    createEnergyBurst(card2);
                    
                    gameState.matchedPairs++;
                    gameState.flippedCards = [];
                    gameState.canFlip = true;
                    
                    // Check for level completion
                    if (gameState.matchedPairs === gameState.totalPairs) {
                        levelComplete();
                    }
                    
                    updateDisplay();
                }, 800);
            } else {
                // No match - flip cards back
                setTimeout(() => {
                    card1.classList.add('superposition');
                    card2.classList.add('superposition');
                    card1.classList.remove('flipped');
                    card2.classList.remove('flipped');
                    
                    gameState.flippedCards = [];
                    gameState.canFlip = true;
                }, 1000);
            }
        }

        // Create energy burst effect for matched cards
        function createEnergyBurst(card) {
            const rect = card.getBoundingClientRect();
            const x = rect.left + rect.width / 2;
            const y = rect.top + rect.height / 2;
            
            for (let i = 0; i < 12; i++) {
                const particle = document.createElement('div');
                particle.className = 'quantum-particle';
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                document.body.appendChild(particle);
                
                anime({
                    targets: particle,
                    translateX: Math.cos(i * 30 * Math.PI / 180) * 50,
                    translateY: Math.sin(i * 30 * Math.PI / 180) * 50,
                    opacity: [1, 0],
                    scale: [1, 2],
                    duration: 800,
                    easing: 'easeOutCubic',
                    complete: () => {
                        document.body.removeChild(particle);
                    }
                });
            }
        }

        // Level completion
        function levelComplete() {
            // Increase level
            gameState.level++;
            
            // Show level complete message
            const message = document.createElement('div');
            message.style.position = 'fixed';
            message.style.top = '50%';
            message.style.left = '50%';
            message.style.transform = 'translate(-50%, -50%)';
            message.style.background = 'rgba(11, 0, 20, 0.9)';
            message.style.color = 'white';
            message.style.padding = '30px';
            message.style.borderRadius = '15px';
            message.style.border = '2px solid var(--energy-orange)';
            message.style.boxShadow = '0 0 30px var(--energy-orange)';
            message.style.zIndex = '100';
            message.style.textAlign = 'center';
            message.innerHTML = `
                <h3>Quantum State Collapsed!</h3>
                <p>You've successfully navigated the quantum realm.</p>
                <p>Advancing to Multiverse Level ${gameState.level}</p>
                <button class="quantum-btn mt-3" id="next-level">Continue Quantum Journey</button>
            `;
            
            document.body.appendChild(message);
            
            document.getElementById('next-level').addEventListener('click', () => {
                document.body.removeChild(message);
                // Increase difficulty for next level
                if (gameState.level % 2 === 0 && gameState.totalPairs < 16) {
                    gameState.totalPairs += 2;
                }
                generateCards();
            });
        }

        // Reset game
        function resetGame() {
            generateCards();
        }

        // Show entanglement hint
        function showEntanglementHint() {
            if (gameState.entangledPairs.length > 0) {
                // Find an entangled pair where at least one card is not revealed
                for (const pair of gameState.entangledPairs) {
                    const card1 = gameState.cards[pair[0]];
                    const card2 = gameState.cards[pair[1]];
                    
                    if ((!card1.classList.contains('flipped') && !card1.classList.contains('matched')) || 
                        (!card2.classList.contains('flipped') && !card2.classList.contains('matched'))) {
                        
                        // Create hint effect
                        if (!card1.classList.contains('flipped') && !card1.classList.contains('matched')) {
                            createHintEffect(card1);
                        }
                        if (!card2.classList.contains('flipped') && !card2.classList.contains('matched')) {
                            createHintEffect(card2);
                        }
                        
                        break;
                    }
                }
            }
        }

        // Create hint effect for a card
        function createHintEffect(card) {
            anime({
                targets: card,
                keyframes: [
                    {scale: 1.1, backgroundColor: 'rgba(255, 69, 0, 0.3)', duration: 300},
                    {scale: 1, backgroundColor: 'rgba(20, 5, 35, 0.8)', duration: 300}
                ],
                easing: 'easeInOutQuad',
                loop: 2
            });
        }

        // Toggle sound
        function toggleSound() {
            gameState.soundEnabled = !gameState.soundEnabled;
            const btn = document.getElementById('sound-btn');
            btn.textContent = gameState.soundEnabled ? 
                'Toggle Quantum Resonance' : 'Quantum Resonance: OFF';
        }

        // Create floating particles
        function createParticles() {
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'quantum-particle';
                particle.style.left = `${Math.random() * 100}vw`;
                particle.style.top = `${Math.random() * 100}vh`;
                document.body.appendChild(particle);
                
                // Animate particle
                anime({
                    targets: particle,
                    translateX: () => anime.random(-100, 100),
                    translateY: () => anime.random(-100, 100),
                    opacity: [0, 1, 0],
                    scale: [0, 1, 0],
                    duration: anime.random(3000, 6000),
                    easing: 'easeInOutQuad',
                    loop: true,
                    delay: anime.random(0, 2000)
                });
                
                gameState.particles.push(particle);
            }
        }

        // Update game display
        function updateDisplay() {
            document.getElementById('moves').textContent = gameState.moves;
            document.getElementById('pairs').textContent = gameState.matchedPairs;
            document.getElementById('total-pairs').textContent = gameState.totalPairs;
            document.getElementById('level').textContent = gameState.level;
            
            // Update progress bar
            const progress = (gameState.matchedPairs / gameState.totalPairs) * 100;
            document.getElementById('quantum-progress').style.width = `${progress}%`;
            
            // Update collapse probability (decreases as game progresses)
            const collapseProb = Math.max(50, 100 - (gameState.moves * 2));
            document.getElementById('collapse-prob').textContent = `${collapseProb}%`;
        }

        // Initialize the game when DOM is loaded
        document.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>
